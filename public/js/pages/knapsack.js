"use strict";caas.knapsack={init:function(){this.setup(),this.events()},setup:function(){},events:function(){$(".knapsack [data-type] input").on("keyup keypress change blur",$.debounce(250,!1,caas.knapsack.updateList)),$(".knapsack .delete").on("click",this.deleteEntity),$(document).on("click","#emptyList",this.emptyList),$("#publishList").on("click",this.revealPublishPanel),$("#publish").on("click",this.publish)},updateList:function(t){var e=$(this),i=e.val(),a=e.closest(".compendium-item"),s=a.data("type"),n=a.data("id"),c=e.closest(".knapsack"),o=(c.data("id"),c.find(".saved-icon")),u=o.data("timeout");caas.lists.update(n,s,i),o.addClass("-active"),void 0!==u&&clearTimeout(u),o.data("timeout",setTimeout(function(){o.removeClass("-active")},5e3))},deleteEntity:function(){var t=$(this).closest(".compendium-item"),e=t.data("type"),i=t.data("id");caas.lists.delete(i,e),t.remove()},emptyList:function(){caas.lists.empty(),window.location="/knapsack"},revealPublishPanel:function(){$("#publish").toggleAttr("hidden",!1)},publish:function(){}},$(function(){caas.core.initializePage("knapsack")});